/**
 * Definição de uma class de empréstimo bancário.
 *
 * @sid 2012
 * @aid 
 */
public class Emprestimo {
    private double prestacao;
    private int numMeses;
    private double TAXA = 0.01; // 1% taxa de juros
    private double divida;
    private double totalJuros;
    private int NUMERO_MAX_MESES = 4 *12;
    private int LIMITE_PRESTACAO = 50;
    
    public Emprestimo() {
        this.divida = 100;
    }
    
    public int getLimiteMeses() {
        return NUMERO_MAX_MESES;
    }

    public int getLimitePrestacao() {
        return LIMITE_PRESTACAO;
    }

    public void pagamento(double prestacao) {
        if (prestacao > 50) {
            System.out.println("Erro! Colocou uma prestação superior ao "
                            + "permitido, pelos nossos serviços");
            System.out.println();
        } 
        if ( prestacao <= LIMITE_PRESTACAO) {
            this.prestacao = prestacao; 
        }
    }
    
    public void obterRelatorio() {
        for (int i = 0; i < 100; i++) {
            double vJuro = calcJuro();
            double vEmp = calcDivida();
            if (this.divida < this.prestacao) {
                break;
            }
            this.numMeses++;
            System.out.printf("N.º Mês: %d, Capital: %.2f, Valor de Juro: %.2f, "
                            + "Valor em divida: %.2f"
                            , i+1, this.prestacao, vJuro, vEmp);
            System.out.println();
            
        }
        System.out.println("No total levará " + this.numMeses + " a pagar o "
                        + "o empréstimo. Terá um custo total de: " + this.totalJuros);
    }
    
    private double calcJuro() {
        this.totalJuros += this.divida * this.TAXA;
        return this.divida * this.TAXA;
    }
    
    private double calcDivida() {
        this.divida = (this.divida - this.prestacao) + this.divida * this.TAXA; 
        return this.divida;
    }
    

}
